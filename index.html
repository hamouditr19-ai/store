<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…ØªØ¬Ø± Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ðŸ”¥ Ù…ØªØ¬Ø± Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ðŸ”¥</h1>
<div id="products"></div>

<script>
fetch("/products")
.then(res => res.json())
.then(products => {
  const container = document.getElementById("products");
  products.forEach(p => {
    container.innerHTML += `
      <div class="card">
        <img src="${p.image}">
        <h2>${p.name}</h2>
        <p>${p.price}$</p>
        <button onclick="order('${p.name}')">Ø´Ø±Ø§Ø¡</button>
      </div>
    `;
  });
});

function order(productName){
  const name = prompt("Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
  const gameId = prompt("Ø§Ø¯Ø®Ù„ ID Ø§Ù„Ù„Ø¹Ø¨Ø©:");

  fetch("/order", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({name, gameId, product: productName})
  }).then(()=>alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ðŸ”¥"));
}
</script>

</body>
</html>
