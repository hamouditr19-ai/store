<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Reem Store | Ø§Ù„Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap');
        
        :root {
            --primary: #3b82f6;
            --secondary: #8b5cf6;
            --bg-dark: #070b14;
            --glass: rgba(255, 255, 255, 0.03);
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-dark);
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Glassmorphism Cards */
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-5px) rotateX(2deg);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.15);
        }

        /* Animations */
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .banner-slide { display: none; }
        .active-slide { display: block; animation: slideIn 0.8s ease-in-out; }
        @keyframes slideIn { from { filter: blur(5px); opacity: 0.5; } to { filter: blur(0); opacity: 1; } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        .no-scrollbar::-webkit-scrollbar { display: none; }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 50%;
            font-weight: bold;
        }
    </style>
</head>
<body class="pb-32">

    <header class="sticky top-0 z-50 p-4 glass-card bg-[#070b14]/80 backdrop-blur-xl border-b border-white/5">
        <div class="container mx-auto flex flex-col gap-4">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl font-900 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">Reem Store ğŸ’</h1>
                <div class="relative cursor-pointer" onclick="toggleCart()">
                    <i class="fas fa-shopping-basket text-2xl text-gray-300"></i>
                    <span id="cart-count" class="cart-badge">0</span>
                </div>
            </div>
            
            <div class="relative">
                <input type="text" id="searchInput" onkeyup="searchProducts()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨Ø©ØŒ Ø®Ø¯Ù…Ø©ØŒ Ø£Ùˆ Ø­Ø³Ø§Ø¨..." 
                class="w-full bg-white/5 border border-white/10 p-3 pr-10 rounded-2xl outline-none focus:border-blue-500 transition-all text-sm">
                <i class="fas fa-search absolute left-4 top-4 text-gray-500"></i>
            </div>
        </div>
    </header>

    <section class="container mx-auto px-4 mt-4">
        <div class="relative h-48 md:h-72 rounded-[2rem] overflow-hidden shadow-2xl border border-white/5">
            <div class="banner-slide active-slide h-full relative">
                <img src="https://images.unsplash.com/photo-1614680376593-902f74cf0d41?auto=format&fit=crop&w=1200" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent flex flex-col justify-end p-6">
                    <h2 class="text-xl font-bold">Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø´ØªØ§Ø¡ Ø§Ù„ÙƒØ¨Ø±Ù‰ â„ï¸</h2>
                    <p class="text-xs text-blue-400">Ø®ØµÙˆÙ…Ø§Øª ØªØµÙ„ Ù„Ù€ 70% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</p>
                </div>
            </div>
            <div class="banner-slide h-full relative">
                <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&w=1200" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent flex flex-col justify-end p-6">
                    <h2 class="text-xl font-bold">Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø³ÙˆØ´Ø§Ù„ Ù…ÙŠØ¯ÙŠØ§ ğŸš€</h2>
                    <p class="text-xs text-purple-400">ØªÙˆØµÙŠÙ„ ÙÙˆØ±ÙŠ ÙˆØ¶Ù…Ø§Ù† Ø­Ù‚ÙŠÙ‚ÙŠ</p>
                </div>
            </div>
        </div>
    </section>

    <section class="container mx-auto px-4 mt-6">
        <div class="flex overflow-x-auto gap-3 no-scrollbar pb-2">
            <button onclick="filterByCat('all')" class="cat-btn bg-blue-600 px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all">Ø§Ù„ÙƒÙ„ ğŸ”¥</button>
            <button onclick="filterByCat('games')" class="cat-btn bg-white/5 px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-white/5">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ğŸ®</button>
            <button onclick="filterByCat('social')" class="cat-btn bg-white/5 px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-white/5">Ø§Ù„Ø³ÙˆØ´Ø§Ù„ ğŸ“ˆ</button>
            <button onclick="filterByCat('subs')" class="cat-btn bg-white/5 px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-white/5">Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª ğŸ’</button>
            <button onclick="filterByCat('cards')" class="cat-btn bg-white/5 px-6 py-2 rounded-xl text-sm font-bold whitespace-nowrap border border-white/5">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ğŸ’³</button>
        </div>
    </section>

    <main class="container mx-auto px-4 mt-6">
        <div id="product-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4">
            </div>
    </main>

    <div id="cartSidebar" class="fixed inset-0 bg-black/95 z-[100] hidden flex-col p-6 animate-slide-left">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-bold">Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ğŸ›’</h2>
            <button onclick="toggleCart()" class="text-3xl text-gray-400">&times;</button>
        </div>
        
        <div id="cart-items" class="flex-grow overflow-y-auto space-y-4">
            </div>

        <div class="mt-auto border-t border-white/10 pt-6">
            <div class="flex justify-between text-xl font-bold mb-6">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                <span id="cart-total" class="text-green-400">0.00$</span>
            </div>
            
            <form id="checkoutForm" class="space-y-4">
                <input type="text" id="clientName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required class="w-full bg-white/5 p-4 rounded-2xl outline-none border border-white/10 focus:border-blue-500">
                <textarea id="orderNotes" placeholder="ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)..." class="w-full bg-white/5 p-4 rounded-2xl outline-none border border-white/10 h-20"></textarea>
                <div class="flex items-center gap-2 bg-white/5 p-3 rounded-2xl border border-dashed border-white/20">
                    <label class="text-xs text-gray-400">Ø¥Ø«Ø¨Ø§Øª Ø¯ÙØ¹:</label>
                    <input type="file" id="orderFile" class="text-xs">
                </div>
                <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 py-4 rounded-2xl font-black text-lg shadow-lg">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ø¨ÙˆØª Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… ğŸš€</button>
            </form>
        </div>
    </div>

    <nav class="fixed bottom-0 left-0 right-0 z-[60] p-4">
        <div class="container mx-auto max-w-lg bg-[#0f172a]/90 backdrop-blur-2xl rounded-[2.5rem] border border-white/10 h-20 flex justify-around items-center px-6 shadow-2xl">
            <button class="flex flex-col items-center text-blue-500">
                <i class="fas fa-home text-xl"></i>
                <span class="text-[10px] mt-1 font-bold">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            </button>
            <button class="flex flex-col items-center text-gray-400 opacity-60">
                <i class="fas fa-history text-xl"></i>
                <span class="text-[10px] mt-1 font-bold">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
            </button>
            <div class="bg-blue-600 w-14 h-14 rounded-full flex items-center justify-center -mt-12 border-[6px] border-[#070b14] shadow-lg shadow-blue-500/40 text-white cursor-pointer" onclick="toggleCart()">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <button class="flex flex-col items-center text-gray-400 opacity-60">
                <i class="fas fa-wallet text-xl"></i>
                <span class="text-[10px] mt-1 font-bold">Ø´Ø­Ù†</span>
            </button>
            <button class="flex flex-col items-center text-gray-400 opacity-60">
                <i class="fas fa-headset text-xl"></i>
                <span class="text-[10px] mt-1 font-bold">Ø§Ù„Ø¯Ø¹Ù…</span>
            </button>
        </div>
    </nav>

    <footer class="mt-20 p-12 text-center border-t border-white/5">
        <div class="flex justify-center gap-6 mb-6 text-2xl text-gray-500">
            <i class="fab fa-telegram hover:text-blue-400"></i>
            <i class="fab fa-instagram hover:text-pink-500"></i>
            <i class="fab fa-whatsapp hover:text-green-500"></i>
        </div>
        <p class="text-gray-500 text-sm">Â© 2026 Reem Store. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        <div class="mt-4 flex justify-center gap-4 text-[10px] text-gray-600 font-bold uppercase tracking-widest">
            <span>Privacy Policy</span>
            <span>â€¢</span>
            <span>Terms of Use</span>
        </div>
    </footer>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª (Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ù‚Ø¯Ù…ØªÙ‡Ø§)
        const BOT_TOKEN = "8222212068:AAH935nM61iSGrGGcXo_H2I6mB13Ws2QE74";
        const CHAT_ID = "7741275208";

        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø³Ù‡ÙˆÙ„Ø©)
        const products = [
            { id: 1, name: "Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ 660", price: 9.99, icon: "ğŸ®", cat: "games", img: "https://images.unsplash.com/photo-1542751371-adc38448a05e" },
            { id: 2, name: "Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªØ§ 10k", price: 15.00, icon: "ğŸš€", cat: "social", img: "https://images.unsplash.com/photo-1611162617474-5b21e879e113" },
            { id: 3, name: "ÙŠÙˆØªÙŠÙˆØ¨ Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… Ø³Ù†Ø©", price: 25.00, icon: "ğŸ“º", cat: "subs", img: "https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0" },
            { id: 4, name: "Ø¬ÙˆØ¬Ù„ Ø¨Ù„Ø§ÙŠ 10$", price: 10.50, icon: "ğŸ’³", cat: "cards", img: "https://images.unsplash.com/photo-1607083206869-4c56e80403e4" },
            { id: 5, name: "Ø±ØµÙŠØ¯ Ù†ÙŠØªÙÙ„ÙƒØ³", price: 12.00, icon: "ğŸ¬", cat: "subs", img: "https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85" },
            { id: 6, name: "ØªÙØ¹ÙŠÙ„ ØªÙ„Ø¬Ø±Ø§Ù… Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ…", price: 4.99, icon: "ğŸ’", cat: "subs", img: "https://images.unsplash.com/photo-1614680376593-902f74cf0d41" }
        ];

        let cart = [];

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„ÙÙ„ØªØ±Ø© ÙˆØ§Ù„Ø¨Ø­Ø« ---
        function renderProducts(items) {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = items.map(p => `
                <div class="glass-card rounded-[2rem] p-4 flex flex-col gap-3 fade-in group">
                    <div class="h-32 rounded-2xl overflow-hidden relative">
                        <img src="${p.img}" class="w-full h-full object-cover group-hover:scale-110 transition-transform">
                        <span class="absolute top-2 right-2 bg-black/50 backdrop-blur-md px-2 py-1 rounded-lg text-xs">${p.icon}</span>
                    </div>
                    <h3 class="font-bold text-sm truncate">${p.name}</h3>
                    <div class="flex justify-between items-center mt-2">
                        <span class="text-blue-400 font-black">${p.price}$</span>
                        <button onclick="addToCart(${p.id})" class="bg-blue-600 hover:bg-blue-500 w-10 h-10 rounded-xl flex items-center justify-center transition-all">
                            <i class="fas fa-plus text-xs"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }
        renderProducts(products);

        function searchProducts() {
            const term = document.getElementById('searchInput').value.toLowerCase();
            const filtered = products.filter(p => p.name.toLowerCase().includes(term));
            renderProducts(filtered);
        }

        function filterByCat(cat) {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.replace('bg-blue-600', 'bg-white/5'));
            event.target.classList.replace('bg-white/5', 'bg-blue-600');
            const filtered = cat === 'all' ? products : products.filter(p => p.cat === cat);
            renderProducts(filtered);
            tg.HapticFeedback.impactOccurred('light');
        }

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù„Ø© ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCartUI();
            tg.HapticFeedback.notificationOccurred('success');
            showToast(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${product.name}`);
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = cart.map((p, index) => `
                <div class="flex items-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/5">
                    <img src="${p.img}" class="w-12 h-12 rounded-lg object-cover">
                    <div class="flex-grow">
                        <h4 class="text-sm font-bold">${p.name}</h4>
                        <p class="text-blue-400 text-xs font-black">${p.price}$</p>
                    </div>
                    <button onclick="removeFromCart(${index})" class="text-red-500 p-2"><i class="fas fa-trash"></i></button>
                </div>
            `).join('');

            const total = cart.reduce((sum, p) => sum + p.price, 0);
            document.getElementById('cart-total').innerText = total.toFixed(2) + '$';
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function toggleCart() {
            const side = document.getElementById('cartSidebar');
            side.classList.toggle('hidden');
            side.classList.toggle('flex');
        }

        // --- Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ø¨ÙˆØª ØªÙ„Ø¬Ø±Ø§Ù… ---
        document.getElementById('checkoutForm').onsubmit = async (e) => {
            e.preventDefault();
            if(cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");

            const submitBtn = e.target.querySelector('button');
            submitBtn.disabled = true;
            submitBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            const total = cart.reduce((sum, p) => sum + p.price, 0);
            const itemsList = cart.map(p => `â€¢ ${p.name} (${p.price}$)`).join('\n');
            const orderId = "#R" + Math.floor(100000 + Math.random() * 900000);

            const message = `
ğŸŒŸ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Ø±ÙŠÙ…*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: \`${orderId}\`
ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: *${document.getElementById('clientName').value}*
ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${document.getElementById('orderNotes').value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯"}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
${itemsList}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: *${total.toFixed(2)}$*
â° Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-EG')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;

            try {
                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: message, parse_mode: 'Markdown' })
                });

                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù (Ø§Ù„ØµÙˆØ±Ø©) Ø¥Ù† ÙˆØ¬Ø¯
                const fileInput = document.getElementById('orderFile');
                if(fileInput.files.length > 0) {
                    const formData = new FormData();
                    formData.append('chat_id', CHAT_ID);
                    formData.append('photo', fileInput.files[0]);
                    formData.append('caption', `ğŸ–¼ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ù„Ù„Ø·Ù„Ø¨ ${orderId}`);
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, { method: 'POST', body: formData });
                }

                tg.showPopup({
                    title: 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ!',
                    message: `Ø±Ù‚Ù… Ø·Ù„Ø¨Ùƒ Ù‡Ùˆ ${orderId}. Ø³ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡ ÙÙˆØ±Ø§Ù‹ ÙˆØªØ£ÙƒÙŠØ¯Ù‡ Ø¹Ø¨Ø± Ø§Ù„Ø¨ÙˆØª.`,
                    buttons: [{type: 'ok', text: 'Ø±Ø§Ø¦Ø¹'}]
                });

                cart = [];
                updateCartUI();
                toggleCart();
                e.target.reset();

            } catch (err) {
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.");
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ø¨ÙˆØª Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù… ğŸš€";
            }
        };

        // --- Slider Logic ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.banner-slide');
        setInterval(() => {
            slides[currentSlide].classList.remove('active-slide');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active-slide');
        }, 4000);

        // Toast Notification Helper
        function showToast(msg) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-24 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-6 py-3 rounded-full text-xs font-bold z-[200] shadow-xl fade-in';
            toast.innerText = msg;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }
    </script>
</body>
</html>
