<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reem Store | Ø±ÙŠÙ… Ø³ØªÙˆØ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #0b1120; color: white; margin: 0; overflow-x: hidden; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ± */
        .top-banner {
            background: linear-gradient(90deg, #0b1120 0%, #06b6d4 50%, #0b1120 100%);
            padding: 12px; text-align: center; font-weight: bold; font-size: 13px;
            border-bottom: 1px solid rgba(6, 182, 212, 0.2);
            letter-spacing: 0.5px;
        }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .premium-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(6, 182, 212, 0.15);
            border-radius: 28px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        .category-chip {
            background: #1e293b;
            border: 1px solid rgba(6, 182, 212, 0.2);
            padding: 12px 24px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex; align-items: center; gap: 10px;
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            min-width: fit-content;
        }
        .category-chip i { font-size: 18px; color: #06b6d4; }
        .category-chip.active {
            background: #06b6d4; color: #0b1120; border-color: #fff;
            transform: scale(1.05);
        }
        .category-chip.active i { color: #0b1120; }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø®ØµØµØ© Ø§Ù„ÙØ®Ù…Ø© */
        .custom-alert {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 85%; max-width: 380px;
            background: #1e293b;
            border: 2px solid #06b6d4; border-radius: 30px;
            padding: 30px; z-index: 10000; text-align: center;
            display: none; animation: popIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }
        @keyframes popIn { from { opacity: 0; transform: translate(-50%, -60%) scale(0.8); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }

        /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„ØµÙˆØ± ÙÙŠ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
        .swiper { width: 100%; height: 230px; border-radius: 0 0 30px 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        .swiper-slide img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.8); }

        /* Ø²Ø± ÙˆØ§ØªØ³Ø§Ø¨ */
        .wa-float {
            position: fixed; bottom: 25px; right: 25px;
            background: #25d366; width: 60px; height: 60px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3); z-index: 1000;
            font-size: 30px; color: white;
        }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

    <div id="overlay" class="fixed inset-0 bg-black/80 backdrop-blur-md z-[9999] hidden"></div>
    <div id="alert-box" class="custom-alert">
        <div id="alert-icon" class="text-5xl mb-4"></div>
        <h3 id="alert-title" class="text-2xl font-bold mb-3"></h3>
        <p id="alert-msg" class="text-gray-400 text-sm mb-8 leading-relaxed"></p>
        <div class="flex gap-3">
            <button onclick="closeAlert()" class="flex-1 bg-slate-700 py-3 rounded-2xl font-bold hover:bg-slate-600 transition">Ø¥Ù„ØºØ§Ø¡</button>
            <button id="alert-confirm" class="flex-1 bg-cyan-500 text-black py-3 rounded-2xl font-bold hover:brightness-110 transition">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
    </div>

    <div class="top-banner">
        ğŸš€ Reem Store | Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù…ØªØ¬Ø± Ø±ÙŠÙ… Ù„Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ - Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù† ğŸš€
    </div>

    <nav class="p-5 flex justify-between items-center bg-slate-900/40 sticky top-0 z-50 backdrop-blur-xl border-b border-white/5">
        <div onclick="document.getElementById('admin-modal').classList.remove('hidden')" class="flex items-center gap-2 cursor-pointer">
            <div class="w-10 h-10 bg-cyan-500 rounded-full flex items-center justify-center text-black font-bold shadow-lg shadow-cyan-500/20">R</div>
            <span class="text-xl font-bold tracking-tight">Reem <span class="text-cyan-400 text-sm">Store</span></span>
        </div>
        <div onclick="toggleCart()" class="relative p-3 bg-slate-800/80 rounded-2xl border border-white/10 cursor-pointer hover:bg-slate-700 transition">
            <i class="fa-solid fa-cart-shopping text-cyan-400"></i>
            <span id="cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center font-bold border-2 border-slate-900">0</span>
        </div>
    </nav>

    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="https://wallpapers.com/images/featured/pubg-mobile-4k-75un6t31j94at53k.jpg"></div>
            <div class="swiper-slide"><img src="https://w0.peakpx.com/wallpaper/528/1004/HD-wallpaper-social-media-icons-social-network-neon-icons-blue-background-social-media-concepts-social-media.jpg"></div>
        </div>
        <div class="swiper-pagination"></div>
    </div>

    <main class="p-5">
        <div id="admin-panel" class="hidden premium-card p-6 mb-10 border-red-500/40 animate-pulse">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-red-400 font-bold flex items-center gap-2"><i class="fa-solid fa-user-gear"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø±ÙŠÙ…</h2>
                <button onclick="this.parentElement.parentElement.classList.add('hidden')" class="text-gray-400">âœ•</button>
            </div>
            
            <div class="space-y-6">
                <div class="bg-slate-900/50 p-4 rounded-3xl border border-white/5">
                    <p class="text-xs font-bold text-cyan-400 mb-3 uppercase tracking-widest">Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</p>
                    <div class="flex gap-2">
                        <input type="text" id="cat-in" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…" class="flex-1 p-3 rounded-xl bg-slate-800 text-sm outline-none border border-transparent focus:border-cyan-500">
                        <button onclick="addCat()" class="bg-green-600 px-6 rounded-xl font-bold text-sm">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                </div>

                <div class="bg-slate-900/50 p-4 rounded-3xl border border-white/5 text-black">
                    <p class="text-xs font-bold text-cyan-400 mb-3 uppercase tracking-widest">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</p>
                    <div class="grid grid-cols-2 gap-3">
                        <input type="text" id="p-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" class="p-3 rounded-xl bg-white outline-none">
                        <input type="number" id="p-price" placeholder="Ø§Ù„Ø³Ø¹Ø± $" class="p-3 rounded-xl bg-white outline-none">
                        <input type="text" id="p-img" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" class="col-span-2 p-3 rounded-xl bg-white outline-none">
                        <select id="p-cat" class="col-span-2 p-3 rounded-xl bg-white font-bold outline-none"></select>
                        <button onclick="addProd()" class="col-span-2 bg-cyan-500 py-4 rounded-2xl font-bold text-black shadow-xl">Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±</button>
                    </div>
                </div>
            </div>
        </div>

        <h3 class="text-xs font-bold text-gray-500 mb-4 uppercase tracking-[3px]">Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h3>
        <div id="filters" class="flex gap-3 overflow-x-auto pb-8 no-scrollbar"></div>

        <div id="content"></div>
    </main>

    <div id="admin-modal" class="fixed inset-0 bg-black/95 z-[10001] hidden flex items-center justify-center p-6">
        <div class="premium-card p-10 w-full max-w-sm text-center">
            <div class="text-5xl mb-6">ğŸ”’</div>
            <h3 class="text-2xl font-bold mb-2">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
            <p class="text-gray-500 text-sm mb-8">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
            <input type="password" id="pass-field" class="w-full p-4 bg-slate-900 border border-white/10 rounded-2xl mb-6 text-center text-2xl tracking-[10px] outline-none focus:border-cyan-500 transition-all">
            <div class="flex gap-3">
                <button onclick="document.getElementById('admin-modal').classList.add('hidden')" class="flex-1 bg-slate-800 py-4 rounded-2xl font-bold">Ø¥Ù„ØºØ§Ø¡</button>
                <button onclick="tryLogin()" class="flex-1 bg-cyan-500 text-black py-4 rounded-2xl font-bold">Ø¯Ø®ÙˆÙ„</button>
            </div>
        </div>
    </div>

    <div id="cart-drawer" class="fixed inset-y-0 left-0 w-full md:w-96 bg-[#0b1120] z-[10002] transform -translate-x-full transition-transform duration-500 p-8 shadow-2xl border-r border-white/5">
        <div class="flex justify-between items-center mb-10">
            <h2 class="text-3xl font-bold text-cyan-400">Ø³Ù„ØªÙƒ Ø§Ù„Ø°ÙƒÙŠØ©</h2>
            <button onclick="toggleCart()" class="w-12 h-12 flex items-center justify-center bg-slate-800 rounded-full text-2xl">&times;</button>
        </div>
        <div id="cart-list" class="space-y-4 mb-10 overflow-y-auto max-h-[50vh] no-scrollbar"></div>
        <div class="absolute bottom-0 left-0 right-0 p-8 bg-slate-900/80 backdrop-blur-xl border-t border-white/5">
            <div class="flex justify-between text-2xl font-bold mb-8"><span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span><span id="total" class="text-cyan-400">0</span> $</div>
            <input id="user-name" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" class="w-full p-4 bg-slate-800 rounded-2xl mb-3 outline-none border border-transparent focus:border-cyan-500">
            <input id="user-id" type="text" placeholder="Ø§Ù„Ø¢ÙŠØ¯ÙŠ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø´Ø­Ù†Ù‡ (ID)" class="w-full p-4 bg-slate-800 rounded-2xl mb-8 outline-none border border-transparent focus:border-cyan-500">
            <button onclick="checkout()" class="w-full bg-cyan-500 text-black py-5 rounded-3xl font-bold text-xl shadow-2xl shadow-cyan-500/20">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        </div>
    </div>

    <a href="https://wa.me/963968493135" class="wa-float">
        <i class="fa-brands fa-whatsapp"></i>
    </a>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±
        new Swiper(".mySwiper", { loop: true, autoplay: { delay: 4000 }, pagination: { el: ".swiper-pagination", clickable: true } });

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let data = JSON.parse(localStorage.getItem('reem_store_v5')) || [
            { id: 'c1', name: 'Ø´Ø­Ù† Ø¨Ø¨Ø¬ÙŠ Ù…ÙˆØ¨Ø§ÙŠÙ„', icon: 'fa-gamepad', items: [] },
            { id: 'c2', name: 'ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø´Ø§Øª', icon: 'fa-comments', items: [] }
        ];
        let cart = [];

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®ØµØµ
        function showAlert(title, msg, type = 'success', onConfirm = null) {
            const box = document.getElementById('alert-box');
            const icon = document.getElementById('alert-icon');
            document.getElementById('alert-title').innerText = title;
            document.getElementById('alert-msg').innerText = msg;
            
            if(type === 'success') { icon.innerHTML = 'âœ…'; box.style.borderColor = '#06b6d4'; }
            else if(type === 'delete') { icon.innerHTML = 'ğŸ—‘ï¸'; box.style.borderColor = '#ef4444'; }
            else { icon.innerHTML = 'ğŸ›’'; box.style.borderColor = '#facc15'; }

            box.style.display = 'block';
            document.getElementById('overlay').classList.remove('hidden');
            
            document.getElementById('alert-confirm').onclick = () => { if(onConfirm) onConfirm(); closeAlert(); };
        }
        function closeAlert() { document.getElementById('alert-box').style.display = 'none'; document.getElementById('overlay').classList.add('hidden'); }

        // Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function tryLogin() {
            if(document.getElementById('pass-field').value === 'reem2026') {
                document.getElementById('admin-panel').classList.remove('hidden');
                document.getElementById('admin-modal').classList.add('hidden');
                render();
                showAlert("Ø£Ù‡Ù„Ø§Ù‹ Ø±ÙŠÙ…", "ØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¨Ù†Ø¬Ø§Ø­ ğŸ› ï¸");
            } else { alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©!"); }
        }

        function addCat() {
            let n = document.getElementById('cat-in').value;
            if(!n) return;
            data.push({ id: 'c'+Date.now(), name: n, icon: 'fa-star', items: [] });
            save(); render();
            document.getElementById('cat-in').value = '';
        }

        function addProd() {
            let n = document.getElementById('p-name').value, p = document.getElementById('p-price').value, i = document.getElementById('p-img').value, c = document.getElementById('p-cat').value;
            if(!n || !p) return;
            let idx = data.findIndex(x => x.id === c);
            data[idx].items.push({ id: Date.now(), name: n, price: parseFloat(p), img: i });
            save(); render();
            showAlert("ØªÙ… Ø§Ù„Ù†Ø´Ø±", "ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­ Ù„Ù„Ù…ØªØ¬Ø± âœ…");
            document.getElementById('p-name').value = ''; document.getElementById('p-price').value = ''; document.getElementById('p-img').value = '';
        }

        function render() {
            const isAdmin = !document.getElementById('admin-panel').classList.contains('hidden');
            document.getElementById('filters').innerHTML = data.map(c => `
                <div onclick="scrollToCat('${c.id}')" class="category-chip">
                    <i class="fa-solid ${c.icon}"></i>
                    <span>${c.name}</span>
                </div>
            `).join('');
            
            document.getElementById('p-cat').innerHTML = data.map(c => `<option value="${c.id}">${c.name}</option>`).join('');

            document.getElementById('content').innerHTML = data.map(c => `
                <div id="${c.id}" class="mb-14 scroll-mt-28">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-1 h-8 bg-cyan-500 rounded-full"></div>
                        <h3 class="text-xl font-bold">${c.name}</h3>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-5">
                        ${c.items.map(p => `
                            <div class="premium-card p-4 relative group hover:border-cyan-500/50 transition-all duration-300">
                                ${isAdmin ? `<button onclick="delP('${c.id}',${p.id})" class="absolute top-3 left-3 bg-red-600/20 text-red-500 w-8 h-8 rounded-full z-10 hover:bg-red-600 hover:text-white transition">âœ•</button>` : ''}
                                <img src="${p.img || 'https://via.placeholder.com/300'}" class="w-full h-40 object-cover rounded-2xl mb-4 shadow-2xl">
                                <h4 class="text-sm font-bold mb-2 h-10 overflow-hidden text-gray-200">${p.name}</h4>
                                <div class="flex justify-between items-center mt-4">
                                    <span class="text-cyan-400 font-bold text-lg">${p.price} $</span>
                                    <button onclick="addToCart('${p.name}', ${p.price})" class="bg-cyan-500 text-black w-10 h-10 rounded-xl flex items-center justify-center hover:scale-110 transition shadow-lg shadow-cyan-500/20"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function delP(cid, pid) {
            showAlert("Ø­Ø°Ù Ù…Ù†ØªØ¬", "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ØºØ¨ØªÙƒ ÙÙŠ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ", 'delete', () => {
                let cidx = data.findIndex(x => x.id === cid);
                data[cidx].items = data[cidx].items.filter(x => x.id !== pid);
                save(); render();
            });
        }

        function addToCart(n, p) {
            cart.push({n, p});
            document.getElementById('cart-count').innerText = cart.length;
            showAlert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©", `ØªÙ… ÙˆØ¶Ø¹ [${n}] ÙÙŠ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­ ğŸ›’`, 'cart');
            updateCart();
        }

        function updateCart() {
            document.getElementById('cart-list').innerHTML = cart.map((x, i) => `
                <div class="flex justify-between items-center bg-slate-800/40 p-4 rounded-2xl border border-white/5 shadow-inner">
                    <div class="flex flex-col">
                        <span class="text-sm font-bold">${x.n}</span>
                        <span class="text-xs text-cyan-400">${x.p} $</span>
                    </div>
                    <button onclick="cart.splice(${i},1);updateCart();document.getElementById('cart-count').innerText = cart.length;" class="text-red-500 w-8 h-8 rounded-lg hover:bg-red-500/10 transition">âœ•</button>
                </div>
            `).join('');
            document.getElementById('total').innerText = cart.reduce((s, x) => s + x.p, 0).toFixed(2);
        }

        function scrollToCat(id) { document.getElementById(id).scrollIntoView({ behavior: 'smooth' }); }
        function save() { localStorage.setItem('reem_store_v5', JSON.stringify(data)); }
        function toggleCart() { document.getElementById('cart-drawer').classList.toggle('-translate-x-full'); }
        
        function checkout() {
            let u = document.getElementById('user-name').value, id = document.getElementById('user-id').value;
            if(!u || cart.length === 0) return showAlert("Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©", "ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù…Ùƒ ÙˆØ¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø³Ù„Ø© âš ï¸", 'cart');
            let t = `ğŸš€ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Reem Store ğŸš€%0AğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${u}%0AğŸ†” Ø§Ù„Ø¢ÙŠØ¯ÙŠ: ${id}%0A%0AğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:%0A${cart.map(x => `- ${x.n}`).join('%0A')}%0A%0AğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('total').innerText} $`;
            window.open(`https://wa.me/963968493135?text=${t}`);
        }

        render();
    </script>
</body>
</html>
