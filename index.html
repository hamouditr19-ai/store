<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Reem Store | Ø±ÙŠÙ… Ø³ØªÙˆØ±</title>
    
    <!-- Tailwind & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0a0f1f, #1a1f35);
            color: white;
            min-height: 100vh;
            position: relative;
            transition: background 0.3s;
        }
        
        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ */
        body.light-mode {
            background: linear-gradient(135deg, #f0f4ff, #e6e9ff);
            color: #1a1f35;
        }
        
        body.light-mode .glass-card {
            background: rgba(255, 255, 255, 0.7);
            color: #1a1f35;
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ… */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        /* Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
        .visitor-counter {
            background: linear-gradient(90deg, #06b6d4, #ec4899);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 12px;
            position: fixed;
            top: 70px;
            left: 10px;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        /* Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª */
        .recent-orders {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid #06b6d4;
        }
        
        .order-item-mini {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px dashed rgba(255,255,255,0.2);
        }
        
        /* Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø±Ø¹Ø© */
        .spin-wheel {
            position: fixed;
            bottom: 100px;
            right: 25px;
            background: linear-gradient(135deg, #06b6d4, #ec4899);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            animation: spin 2s infinite;
            border: 3px solid white;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        /* Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø¨ */
        .tracking-bar {
            background: #1e293b;
            height: 10px;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .tracking-progress {
            height: 100%;
            background: linear-gradient(90deg, #06b6d4, #ec4899);
            width: 0%;
            transition: width 0.5s;
        }
        
        /* Ø²Ø± ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹ */
        .theme-toggle {
            position: fixed;
            top: 70px;
            right: 10px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 50px;
            cursor: pointer;
            z-index: 100;
            border: 1px solid #06b6d4;
        }
        
        @media (max-width: 640px) {
            .visitor-counter { font-size: 10px; padding: 3px 10px; }
            .theme-toggle { font-size: 12px; padding: 5px 10px; }
        }
    </style>
</head>
<body>

    <!-- Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="stars" id="stars"></div>

    <!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± -->
    <div class="visitor-counter">
        <i class="fas fa-eye"></i> <span id="visitor-count">1,247</span> Ø²Ø§Ø¦Ø±
    </div>

    <!-- ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="theme-icon"></i> <span>Ù„ÙŠÙ„ÙŠ</span>
    </div>

    <!-- Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø±Ø¹Ø© -->
    <div class="spin-wheel" onclick="spinWheel()">
        <i class="fas fa-gift text-2xl"></i>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
    <div class="ticker-wrap">
        <div class="ticker-content">
            <span>ğŸ”¥ğŸ”¥ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Reem Store | Ø±ÙŠÙ… Ø³ØªÙˆØ± ğŸ”¥ğŸ”¥</span>
            <span>ğŸ’° Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø´Ø§Ù… ÙƒØ§Ø´ - ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©: 17ac4a94cb1ed493e47a8526892294dd</span>
            <span>ğŸ Ø§Ø³ØªØ®Ø¯Ù… ÙƒÙˆØ¯: REEM10 Ù„Ø®ØµÙ… 10%</span>
            <span>ğŸ“¸ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø£Ø±Ø³Ù„ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</span>
        </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <nav class="sticky top-0 z-50 glass-card py-4 px-6 flex justify-between items-center border-b border-cyan-500/30">
        <h1 class="text-2xl md:text-3xl font-black cursor-pointer" onclick="openModal('password-modal')">
            <span class="text-transparent bg-clip-text bg-gradient-to-l from-cyan-400 to-pink-500">
                Reem Store | Ø±ÙŠÙ… Ø³ØªÙˆØ±
            </span>
        </h1>
        
        <div class="flex items-center gap-4">
            <button onclick="toggleCart()" class="relative p-3 bg-slate-800 rounded-2xl border border-cyan-500/50 hover:scale-110 transition">
                ğŸ›’
                <span id="cart-count" class="absolute -top-2 -right-2 bg-pink-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center border-2 border-white">0</span>
            </button>
        </div>
    </nav>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
    <div id="password-modal" class="modal-overlay">
        <div class="modal-content text-center">
            <button onclick="closeModal('password-modal')" class="absolute top-4 left-4 text-white text-2xl">âœ•</button>
            <h2 class="text-2xl font-bold mb-6 cyan-text">ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
            <input type="password" id="admin-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" class="w-full p-3 rounded-xl bg-slate-800 border border-cyan-500 text-white text-center mb-4">
            <button onclick="checkAdminPass()" class="w-full bg-gradient-to-l from-cyan-500 to-pink-500 text-white font-bold py-3 rounded-xl text-lg">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <!-- Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold cyan-text">ğŸ›ï¸ Ø³Ù„ØªÙƒ</h2>
            <button onclick="toggleCart()" class="text-3xl text-white">&times;</button>
        </div>
        
        <div id="cart-items" class="space-y-3 mb-6"></div>
        
        <!-- ÙƒÙˆØ¨ÙˆÙ† Ø§Ù„Ø®ØµÙ… -->
        <div class="mb-4">
            <input type="text" id="coupon-code" placeholder="ğŸŸï¸ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…" class="w-full p-2 rounded-xl bg-slate-800 border border-cyan-500 text-white">
            <button onclick="applyCoupon()" class="w-full mt-2 bg-purple-600 py-2 rounded-xl text-white font-bold">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†</button>
        </div>
        
        <div class="border-t border-cyan-500/30 pt-4">
            <div class="flex justify-between text-xl font-bold mb-4">
                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span id="cart-total" class="cyan-text">0</span>
                <span>$</span>
            </div>
            <div class="flex justify-between text-sm mb-4" id="discount-row" style="display: none;">
                <span>Ø§Ù„Ø®ØµÙ…:</span>
                <span id="discount-amount" class="text-green-400">-$0</span>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø¨ -->
            <div class="mb-4">
                <p class="text-sm mb-1">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:</p>
                <div class="tracking-bar">
                    <div class="tracking-progress" id="order-progress" style="width: 0%;"></div>
                </div>
                <div class="flex justify-between text-xs text-slate-400">
                    <span>Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
                    <span>ØªÙ… Ø§Ù„Ø¯ÙØ¹</span>
                    <span>ØªÙ… Ø§Ù„Ø´Ø­Ù†</span>
                </div>
            </div>
            
            <input type="text" id="cust-name" placeholder="ğŸ‘¤ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" class="w-full p-3 mb-3 rounded-xl bg-slate-800 border border-cyan-500 text-white">
            <input type="text" id="cust-id" placeholder="ğŸ® Ù…Ø¹Ø±Ù Ø§Ù„Ù„Ø¹Ø¨Ø©" class="w-full p-3 mb-4 rounded-xl bg-slate-800 border border-cyan-500 text-white">
            
            <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© -->
            <div class="glass-card p-4 rounded-xl mb-4">
                <p class="text-cyan-400 font-bold mb-3">ğŸ’° Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø´Ø§Ù… ÙƒØ§Ø´</p>
                
                <div class="payment-code-box">
                    <span class="payment-code" id="wallet-code">17ac4a94cb1ed493e47a8526892294dd</span>
                    <button class="copy-btn" onclick="copyWalletCode()">Ù†Ø³Ø®</button>
                </div>
                
                <div class="text-center mb-3">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=17ac4a94cb1ed493e47a8526892294dd" 
                         alt="QR Code" 
                         class="w-32 h-32 mx-auto rounded-lg border-2 border-cyan-500 p-1 bg-white">
                </div>
                
                <div class="bg-slate-900 p-3 rounded-lg mb-3">
                    <span class="text-sm text-slate-400">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:</span>
                    <span class="text-xl font-bold cyan-text block" id="payment-amount">$0</span>
                </div>
                
                <!-- ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª -->
                <div class="grid grid-cols-3 gap-2 mb-3">
                    <div class="bg-slate-900 p-2 rounded-lg text-center">
                        <span class="text-xs">Ø¯ÙˆÙ„Ø§Ø±</span>
                        <span class="font-bold block" id="usd-amount">0</span>
                    </div>
                    <div class="bg-slate-900 p-2 rounded-lg text-center">
                        <span class="text-xs">Ù„ÙŠØ±Ø©</span>
                        <span class="font-bold block" id="syp-amount">0</span>
                    </div>
                    <div class="bg-slate-900 p-2 rounded-lg text-center">
                        <span class="text-xs">Ø±ÙŠØ§Ù„</span>
                        <span class="font-bold block" id="sar-amount">0</span>
                    </div>
                </div>
                
                <input type="text" id="transaction-id" placeholder="ğŸ”¢ Ø±Ù‚Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹" class="w-full p-3 mb-3 rounded-xl bg-slate-900 border border-cyan-500 text-white">
                
                <div class="file-input" onclick="document.getElementById('receipt-file').click()">
                    <i class="fas fa-cloud-upload-alt text-2xl mb-2 block"></i>
                    <span class="text-sm">Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</span>
                    <input type="file" id="receipt-file" accept="image/*" class="hidden" onchange="handleFileSelect(event)">
                </div>
                <div id="file-name" class="text-xs text-green-400 mt-1"></div>
            </div>
            
            <button onclick="sendOrder()" class="w-full bg-gradient-to-l from-green-500 to-green-400 text-white font-bold py-3 rounded-xl text-lg shadow-lg">
                âœ… ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ø¨Ù†Ø± Ø§Ù„Ù…ØªØ­Ø±Ùƒ -->
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=1200" alt="PUBG">
                <div class="slide-overlay">
                    <h2>ğŸ® Ø´Ø­Ù† PUBG UC</h2>
                    <p class="text-lg">Ø£Ø³Ø±Ø¹ Ø´Ø­Ù† - ØªÙˆØµÙŠÙ„ ÙÙˆØ±ÙŠ</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=1200" alt="Free Fire">
                <div class="slide-overlay">
                    <h2>ğŸ”¥ Free Fire Diamonds</h2>
                    <p class="text-lg">Ø®ØµÙˆÙ…Ø§Øª Ø®Ø§ØµØ©</p>
                </div>
            </div>
            <div class="swiper-slide">
                <img src="https://images.unsplash.com/photo-1614680376593-902f74cc0d41?w=1200" alt="Google Play">
                <div class="slide-overlay">
                    <h2>ğŸ’³ Ø¨Ø·Ø§Ù‚Ø§Øª Google Play</h2>
                    <p class="text-lg">Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</p>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div id="admin-panel" class="hidden glass-card p-6 rounded-2xl mx-4 mb-10 border-2 border-pink-500 relative">
        <button onclick="closeAdmin()" class="absolute top-4 left-4 bg-red-500 text-white w-8 h-8 rounded-full">âœ•</button>
        <h2 class="text-xl font-bold mb-4 text-pink-400">ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        
        <div class="mb-6 p-4 bg-slate-800/50 rounded-xl">
            <p class="mb-2 font-bold text-cyan-400">â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù…</p>
            <div class="flex gap-2">
                <input type="text" id="new-cat-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…" class="flex-1 p-2 rounded-lg bg-white text-black">
                <button onclick="addNewCategory()" class="bg-green-600 px-4 py-2 rounded-lg text-white font-bold">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
        </div>
        
        <div class="p-4 bg-slate-800/50 rounded-xl">
            <p class="mb-2 font-bold text-cyan-400">ğŸ›ï¸ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</p>
            <div class="grid gap-3">
                <input type="text" id="new-prod-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" class="p-2 rounded-lg bg-white text-black">
                <input type="number" id="new-prod-price" placeholder="Ø§Ù„Ø³Ø¹Ø± $" class="p-2 rounded-lg bg-white text-black">
                <input type="text" id="new-prod-img" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" class="p-2 rounded-lg bg-white text-black">
                <select id="new-prod-cat" class="p-2 rounded-lg bg-white text-black font-bold"></select>
                <button onclick="addNewProduct()" class="bg-cyan-600 py-2 rounded-lg text-white font-bold">Ø¥Ø¶Ø§ÙØ©</button>
            </div>
        </div>
    </div>

    <!-- Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù†ÙØ°Ø© -->
    <div class="container mx-auto px-4">
        <div class="recent-orders">
            <h3 class="text-lg font-bold mb-3 flex items-center gap-2">
                <i class="fas fa-check-circle text-green-400"></i>
                Ø¢Ø®Ø± 5 Ø·Ù„Ø¨Ø§Øª Ù…Ù†ÙØ°Ø©
            </h3>
            <div id="recent-orders-list"></div>
        </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
    <div class="container mx-auto px-4">
        <div class="flex flex-wrap gap-2 mb-8 justify-center" id="category-tabs">
            <button class="category-tab active" onclick="filterByCategory('all')">Ø§Ù„ÙƒÙ„ ğŸ </button>
        </div>
    </div>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ØªØ¬Ø± -->
    <main class="container mx-auto px-4 pb-20" id="store-content"></main>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="container mx-auto">
            <div class="flex justify-center gap-3 mb-8">
                <a href="https://www.instagram.com/reem216179?igsh=eXV5NnkyczV6bzVo" target="_blank" class="social-icon">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.tiktok.com/@reem_m272?_r=1&_t=ZS-945Up3Qk65t" target="_blank" class="social-icon">
                    <i class="fab fa-tiktok"></i>
                </a>
                <a href="https://t.me/ReemStore4" target="_blank" class="social-icon">
                    <i class="fab fa-telegram-plane"></i>
                </a>
                <a href="https://wa.me/963968493135" target="_blank" class="social-icon">
                    <i class="fab fa-whatsapp"></i>
                </a>
            </div>
            
            <div class="text-center mb-6">
                <p class="text-cyan-400 text-lg font-bold">Â© 2026 Reem Store. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
                <p class="text-sm text-slate-400 mt-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±: <span id="visitor-count-footer">1,247</span></p>
            </div>
            
            <div class="flex justify-center gap-6 text-sm text-slate-400">
                <a href="#" class="hover:text-cyan-400 transition" onclick="showPrivacyPolicy()">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                <span>|</span>
                <a href="#" class="hover:text-cyan-400 transition" onclick="showTerms()">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>
            </div>
        </div>
    </footer>

    <!-- ØªÙˆØ³Øª -->
    <div class="toast-container" id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±
        const swiper = new Swiper(".mySwiper", {
            autoplay: { delay: 3000, disableOnInteraction: false },
            pagination: { el: ".swiper-pagination", clickable: true },
            loop: true,
            effect: "fade",
        });

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
        let storeData = JSON.parse(localStorage.getItem('reemStoreMaster')) || [
            { id: 'cat1', name: 'ğŸ® Ø£Ù„Ø¹Ø§Ø¨', products: [
                { id: 1, name: '60 UC Ø´Ø¯Ø© PUBG', price: 5, img: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400' },
                { id: 2, name: '100 Ø¬ÙˆÙ‡Ø±Ø© ÙØ±ÙŠ ÙØ§ÙŠØ±', price: 4, img: 'https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=400' }
            ]},
            { id: 'cat2', name: 'ğŸ“± ØªØ·Ø¨ÙŠÙ‚Ø§Øª', products: [
                { id: 3, name: 'Ø§Ø´ØªØ±Ø§Ùƒ Ù†ØªÙÙ„ÙƒØ³ Ø´Ù‡Ø±', price: 15, img: 'https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?w=400' }
            ]}
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let completedOrders = JSON.parse(localStorage.getItem('completedOrders')) || [];
        let discount = 0;
        let couponApplied = false;
        const BOT_TOKEN = '8222212068:AAH935nM61iSGrGGcXo_H2I6mB13Ws2QE74';
        const CHAT_ID = '7741275208';
        let currentFilter = 'all';
        let selectedFile = null;

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¬ÙˆÙ…
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }
        createStars();

        // Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±
        let visitorCount = localStorage.getItem('visitorCount') || 1247;
        visitorCount = parseInt(visitorCount) + 1;
        localStorage.setItem('visitorCount', visitorCount);
        document.getElementById('visitor-count').innerText = visitorCount.toLocaleString();
        document.getElementById('visitor-count-footer').innerText = visitorCount.toLocaleString();

        // Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        function updateRecentOrders() {
            const list = document.getElementById('recent-orders-list');
            if (completedOrders.length === 0) {
                list.innerHTML = '<p class="text-slate-400 text-sm">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯</p>';
                return;
            }
            
            const recent = completedOrders.slice(-5).reverse();
            list.innerHTML = recent.map(order => `
                <div class="order-item-mini">
                    <span>${order.name}</span>
                    <span class="text-green-400">$${order.total}</span>
                </div>
            `).join('');
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const icon = document.getElementById('theme-icon');
            const text = event.target.closest('.theme-toggle').querySelector('span');
            if (document.body.classList.contains('light-mode')) {
                icon.className = 'fas fa-sun';
                text.innerText = 'Ù†Ù‡Ø§Ø±ÙŠ';
            } else {
                icon.className = 'fas fa-moon';
                text.innerText = 'Ù„ÙŠÙ„ÙŠ';
            }
        }

        // Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚Ø±Ø¹Ø©
        function spinWheel() {
            const discounts = [5, 10, 15, 20, 25, 30];
            const randomDiscount = discounts[Math.floor(Math.random() * discounts.length)];
            showToast(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø®ØµÙ… ${randomDiscount}%`);
            
            // Ø­ÙØ¸ Ø§Ù„Ø®ØµÙ… ÙÙŠ Ø§Ù„Ø³Ù„Ø©
            sessionStorage.setItem('wheelDiscount', randomDiscount);
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ø³Ù„Ø©
            if (cart.length > 0) {
                const total = cart.reduce((sum, i) => sum + i.price, 0);
                const discountAmount = total * (randomDiscount / 100);
                showToast(`ğŸ’° Ø§Ù„Ø®ØµÙ… Ù…Ø·Ø¨Ù‚: -$${discountAmount.toFixed(2)}`);
            }
        }

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†
        function applyCoupon() {
            const code = document.getElementById('coupon-code').value;
            if (code === 'REEM10' && !couponApplied) {
                discount = 0.1;
                couponApplied = true;
                const total = cart.reduce((sum, i) => sum + i.price, 0);
                const discountAmount = total * discount;
                
                document.getElementById('discount-row').style.display = 'flex';
                document.getElementById('discount-amount').innerText = '-$' + discountAmount.toFixed(2);
                
                updateCartUI();
                showToast('âœ… ÙƒÙˆØ¯ REEM10 ÙØ¹Ø§Ù„! Ø®ØµÙ… 10%');
            } else if (couponApplied) {
                showToast('âš ï¸ Ø§Ù„ÙƒÙˆØ¨ÙˆÙ† Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¨Ù‚Ø§Ù‹');
            } else {
                showToast('âŒ ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­');
            }
        }

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function convertCurrency(usd) {
            document.getElementById('usd-amount').innerText = '$' + usd.toFixed(2);
            document.getElementById('syp-amount').innerText = (usd * 13000).toLocaleString() + ' Ù„.Ø³';
            document.getElementById('sar-amount').innerText = (usd * 3.75).toFixed(2) + ' Ø±.Ø³';
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
        function updateOrderProgress(status) {
            const progress = document.getElementById('order-progress');
            if (status === 'pending') progress.style.width = '0%';
            else if (status === 'paid') progress.style.width = '50%';
            else if (status === 'shipped') progress.style.width = '100%';
        }

        function copyWalletCode() {
            const code = document.getElementById('wallet-code').innerText;
            navigator.clipboard.writeText(code);
            showToast('âœ… ØªÙ… Ù†Ø³Ø® ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©');
        }

        function handleFileSelect(event) {
            selectedFile = event.target.files[0];
            if (selectedFile) {
                document.getElementById('file-name').innerHTML = `ğŸ“¸ ${selectedFile.name}`;
                showToast('âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©');
            }
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            
            const items = document.getElementById('cart-items');
            items.innerHTML = cart.map((item, i) => `
                <div class="flex justify-between items-center bg-slate-800 p-3 rounded-xl border border-cyan-500/30">
                    <span class="text-sm">${item.name}</span>
                    <div>
                        <span class="cyan-text font-bold ml-2">$${item.price}</span>
                        <button onclick="removeFromCart(${i})" class="text-red-500 text-sm">âœ•</button>
                    </div>
                </div>
            `).join('');

            let total = cart.reduce((sum, i) => sum + i.price, 0);
            if (couponApplied) {
                total = total * (1 - discount);
            }
            
            document.getElementById('cart-total').innerText = total.toFixed(2);
            document.getElementById('payment-amount').innerText = '$' + total.toFixed(2);
            convertCurrency(total);
        }

        async function sendOrder() {
            const name = document.getElementById('cust-name').value;
            const gameId = document.getElementById('cust-id').value;
            const transactionId = document.getElementById('transaction-id').value;

            if (!name || !gameId || cart.length === 0 || !transactionId) {
                showToast('âš ï¸ Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                return;
            }

            if (!selectedFile) {
                showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');
                return;
            }

            let total = cart.reduce((sum, i) => sum + i.price, 0);
            if (couponApplied) total = total * (1 - discount);
            
            const productsList = cart.map(i => `- ${i.name} ($${i.price})`).join('\n');

            // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ù…Ù†Ø¬Ø²Ø§Øª
            completedOrders.push({
                name: name,
                total: total.toFixed(2),
                date: new Date().toLocaleString()
            });
            localStorage.setItem('completedOrders', JSON.stringify(completedOrders));
            updateRecentOrders();

            const reader = new FileReader();
            reader.readAsDataURL(selectedFile);
            reader.onload = async function() {
                const base64Image = reader.result.split(',')[1];
                
                const message = `ğŸ›ï¸ **Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Reem Store**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}
ğŸ® Ø§Ù„Ø¢ÙŠØ¯ÙŠ: ${gameId}
ğŸ”¢ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${transactionId}
ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:
${productsList}
ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£ØµÙ„ÙŠ: $${cart.reduce((sum, i) => sum + i.price, 0).toFixed(2)}
ğŸ’° Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…: $${total.toFixed(2)}
ğŸ’³ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©: 17ac4a94cb1ed493e47a8526892294dd
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;

                try {
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            text: message,
                            parse_mode: 'Markdown'
                        })
                    });

                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            photo: base64Image,
                            caption: `ğŸ“¸ ØµÙˆØ±Ø© Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¯ÙØ¹ - Ø·Ù„Ø¨ Ù…Ù† ${name}`
                        })
                    });
                    
                    showToast('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
                    updateOrderProgress('paid');
                    
                    cart = [];
                    localStorage.removeItem('cart');
                    selectedFile = null;
                    document.getElementById('file-name').innerHTML = '';
                    document.getElementById('receipt-file').value = '';
                    updateCartUI();
                    toggleCart();
                    
                } catch (error) {
                    showToast('âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                }
            };
        }

        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„...
        function showToast(msg) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerText = msg;
            container.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        function openModal(id) {
            document.getElementById(id).style.display = 'flex';
        }

        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        function toggleCart() {
            document.getElementById('cart-sidebar').classList.toggle('open');
        }

        function addToCart(name, price) {
            cart.push({ name, price });
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            updateOrderProgress('pending');
            showToast(`âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${name} Ù„Ù„Ø³Ù„Ø©`);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            if (cart.length === 0) updateOrderProgress('pending');
        }

        function checkAdminPass() {
            const pass = document.getElementById('admin-pass').value;
            if (pass === '1234') {
                document.getElementById('admin-panel').classList.remove('hidden');
                closeModal('password-modal');
                updateCategorySelect();
                showToast('ğŸ”“ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ');
            } else {
                showToast('âŒ ÙƒÙ„Ù…Ø© Ø³Ø± Ø®Ø·Ø£');
            }
        }

        function closeAdmin() {
            document.getElementById('admin-panel').classList.add('hidden');
        }

        function addNewCategory() {
            const name = document.getElementById('new-cat-name').value;
            if (!name) return showToast('âš ï¸ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…');
            
            storeData.push({
                id: 'cat_' + Date.now(),
                name: name,
                products: []
            });
            
            localStorage.setItem('reemStoreMaster', JSON.stringify(storeData));
            updateCategorySelect();
            renderTabs();
            renderStore();
            document.getElementById('new-cat-name').value = '';
            showToast('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø³Ù…');
        }

        function addNewProduct() {
            const name = document.getElementById('new-prod-name').value;
            const price = parseFloat(document.getElementById('new-prod-price').value);
            const img = document.getElementById('new-prod-img').value;
            const catId = document.getElementById('new-prod-cat').value;

            if (!name || !price || !img || !catId) return showToast('âš ï¸ Ø§Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„');

            const catIndex = storeData.findIndex(c => c.id === catId);
            storeData[catIndex].products.push({
                id: Date.now(),
                name, price, img
            });

            localStorage.setItem('reemStoreMaster', JSON.stringify(storeData));
            renderStore();
            document.getElementById('new-prod-name').value = '';
            document.getElementById('new-prod-price').value = '';
            document.getElementById('new-prod-img').value = '';
            showToast('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬');
        }

        function updateCategorySelect() {
            const select = document.getElementById('new-prod-cat');
            select.innerHTML = storeData.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        }

        function renderTabs() {
            const tabs = document.getElementById('category-tabs');
            tabs.innerHTML = '<button class="category-tab active" onclick="filterByCategory(\'all\')">Ø§Ù„ÙƒÙ„ ğŸ </button>';
            storeData.forEach(cat => {
                tabs.innerHTML += `<button class="category-tab" onclick="filterByCategory('${cat.id}')">${cat.name}</button>`;
            });
        }

        function filterByCategory(catId) {
            currentFilter = catId;
            document.querySelectorAll('.category-tab').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderStore();
        }

        function renderStore() {
            const isAdmin = !document.getElementById('admin-panel').classList.contains('hidden');
            const content = document.getElementById('store-content');
            
            let filteredData = currentFilter === 'all' ? storeData : storeData.filter(c => c.id === currentFilter);

            content.innerHTML = filteredData.map(cat => `
                <div class="mb-12">
                    <h2 class="text-xl font-bold mb-4 border-r-4 border-cyan-500 pr-3">${cat.name}</h2>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        ${cat.products.map(p => `
                            <div class="glass-card p-3 rounded-2xl neon-border relative">
                                ${isAdmin ? `<button onclick="deleteProduct('${cat.id}', ${p.id})" class="absolute top-2 left-2 bg-red-600 text-xs px-2 py-1 rounded-full">âœ•</button>` : ''}
                                <img src="${p.img}" class="w-full h-32 object-cover rounded-xl mb-3">
                                <h3 class="font-bold text-sm mb-1">${p.name}</h3>
                                <p class="text-lg font-black cyan-text mb-3">$${p.price}</p>
                                <button onclick="addToCart('${p.name}', ${p.price})" class="w-full bg-gradient-to-l from-cyan-500 to-pink-500 text-white py-2 rounded-xl text-xs font-bold hover:scale-105 transition">
                                    ğŸ›’ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
                                </button>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function deleteProduct(catId, prodId) {
            if (!confirm('Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) return;
            const catIndex = storeData.findIndex(c => c.id === catId);
            storeData[catIndex].products = storeData[catIndex].products.filter(p => p.id !== prodId);
            localStorage.setItem('reemStoreMaster', JSON.stringify(storeData));
            renderStore();
            showToast('ğŸ—‘ï¸ ØªÙ… Ø§Ù„Ø­Ø°Ù');
        }

        function showPrivacyPolicy() {
            alert('Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© - Reem Store\n\nÙ†Ø­Ù† Ù†Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©.');
        }

        function showTerms() {
            alert('Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… - Reem Store\n\n1. Ø§Ù„Ø¯ÙØ¹ Ù…Ù‚Ø¯Ù….\n2. Ø§Ù„Ø´Ø­Ù† Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.\n3. Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ù…Ø´ÙƒÙ„Ø©.');
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        renderTabs();
        renderStore();
        updateCartUI();
        updateCategorySelect();
        updateRecentOrders();
    </script>
</body>
</html>
