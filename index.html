<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Reem Store | Ø±ÙŠÙ… Ø³ØªÙˆØ±</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: #0a0f1f;
            color: white;
        }
        
        /* ØªØµØºÙŠØ± ÙƒÙ„ Ø§Ù„Ø£Ø­Ø¬Ø§Ù… */
        .text-xl { font-size: 1.1rem !important; }
        .text-2xl { font-size: 1.3rem !important; }
        .text-3xl { font-size: 1.5rem !important; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 10px; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ù…ØµØºØ± */
        nav { padding: 8px 15px !important; }
        
        /* ÙƒØ±ÙˆØª Ù…ØµØºØ±Ø© */
        .product-card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 12px;
            padding: 8px;
            border: 1px solid #06b6d4;
        }
        
        .product-card img { height: 90px; object-fit: cover; border-radius: 8px; }
        .product-card h3 { font-size: 13px; margin: 5px 0; }
        .product-card .price { font-size: 16px; color: #06b6d4; }
        
        /* Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .cart-sidebar {
            position: fixed;
            top: 0;
            left: -100%;
            width: 320px;
            height: 100vh;
            background: #0f172a;
            z-index: 1000;
            transition: left 0.3s;
            padding: 15px;
            overflow-y: auto;
        }
        
        .cart-sidebar.open { left: 0; }
        
        /* Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ù†ÙØµÙ„Ø© */
        .wallet-panel {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 280px;
            background: #0f172a;
            border: 2px solid #06b6d4;
            border-radius: 15px;
            padding: 12px;
            z-index: 99;
            box-shadow: 0 0 20px rgba(6,182,212,0.3);
        }
        
        .wallet-panel .title {
            font-size: 14px;
            color: #06b6d4;
            margin-bottom: 8px;
        }
        
        .wallet-code {
            background: #1e293b;
            padding: 8px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            word-break: break-all;
        }
        
        .copy-btn {
            background: #06b6d4;
            color: black;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            border: none;
            cursor: pointer;
        }
        
        .wallet-qr {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 8px;
            margin: 5px 0;
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…ØµØºØ±Ø© */
        .category-tab {
            padding: 6px 12px;
            background: #1e293b;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            border: 1px solid #06b6d4;
        }
        
        .category-tab.active {
            background: #06b6d4;
            color: black;
        }
        
        /* Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø³ÙˆØ´Ù„ Ù…ØµØºØ±Ø© */
        .social-icon {
            width: 30px;
            height: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        @media (max-width: 640px) {
            .wallet-panel { width: 250px; bottom: 10px; left: 10px; }
            .cart-sidebar { width: 280px; }
        }
    </style>
</head>
<body>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ù…ØµØºØ± -->
    <nav class="sticky top-0 z-50 flex justify-between items-center bg-[#0f172a] border-b border-cyan-500/30">
        <h1 class="text-xl font-bold cursor-pointer" onclick="openModal('password-modal')">
            <span class="text-cyan-400">Reem Store</span>
        </h1>
        
        <div class="flex items-center gap-3">
            <button onclick="toggleCart()" class="relative p-2 bg-slate-800 rounded-lg">
                ğŸ›’ <span id="cart-count" class="absolute -top-2 -right-2 bg-pink-500 text-[10px] rounded-full h-4 w-4 flex items-center justify-center">0</span>
            </button>
        </div>
    </nav>

    <!-- Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-bold text-cyan-400">ğŸ›ï¸ Ø³Ù„ØªÙƒ</h2>
            <button onclick="toggleCart()" class="text-xl">âœ•</button>
        </div>
        
        <div id="cart-items" class="space-y-2 mb-4"></div>
        
        <div class="border-t border-cyan-500/30 pt-4">
            <div class="flex justify-between font-bold mb-3">
                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span id="cart-total" class="text-cyan-400">0</span>
                <span>$</span>
            </div>
            
            <input type="text" id="cust-name" placeholder="Ø§Ù„Ø§Ø³Ù…" class="w-full p-2 mb-2 rounded bg-slate-800 text-sm">
            <input type="text" id="cust-id" placeholder="ID Ø§Ù„Ø­Ø³Ø§Ø¨" class="w-full p-2 mb-3 rounded bg-slate-800 text-sm">
            
            <button onclick="sendOrder()" class="w-full bg-green-600 py-2 rounded text-sm font-bold">
                âœ… ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ù†ÙØµÙ„Ø© (Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¸Ø§Ù‡Ø±Ø©) -->
    <div class="wallet-panel">
        <div class="title">ğŸ’³ Ù…Ø­ÙØ¸Ø© Ø´Ø§Ù… ÙƒØ§Ø´</div>
        
        <div class="flex items-center gap-2 mb-2">
            <div class="wallet-code flex-1">17ac4a94cb1ed493e47a8526892294dd</div>
            <button class="copy-btn" onclick="copyCode()">Ù†Ø³Ø®</button>
        </div>
        
        <div class="flex items-center gap-2">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=60x60&data=17ac4a94cb1ed493e47a8526892294dd" class="wallet-qr">
            <div class="text-sm">
                <div>Ø§Ù„Ù…Ø¨Ù„Øº: <span id="payment-amount">$0</span></div>
                <div class="text-[10px] text-slate-400">Ø­ÙˆÙ„ ÙˆØ§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</div>
            </div>
        </div>
        
        <input type="text" id="transaction-id" placeholder="Ø±Ù‚Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹" class="w-full p-1 mt-2 rounded bg-slate-900 text-sm">
        
        <div class="file-input mt-2 text-center p-1 border border-dashed rounded text-xs" onclick="document.getElementById('receipt-file').click()">
            Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            <input type="file" id="receipt-file" accept="image/*" class="hidden" onchange="handleFile(event)">
        </div>
        <div id="file-name" class="text-[10px] text-green-400"></div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
    <div class="flex flex-wrap gap-1 p-3 justify-center" id="category-tabs">
        <button class="category-tab active" onclick="filterByCategory('all')">Ø§Ù„ÙƒÙ„</button>
    </div>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ØªØ¬Ø± (Ù…ØµØºØ±) -->
    <main class="grid grid-cols-2 md:grid-cols-4 gap-2 p-2" id="store-content"></main>

    <!-- Ø§Ù„ÙÙˆØªØ± Ù…ØµØºØ± -->
    <footer class="mt-10 border-t border-slate-800 py-4 text-center">
        <div class="flex justify-center gap-3 mb-2">
            <a href="https://www.instagram.com/reem216179" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
            <a href="https://www.tiktok.com/@reem_m272" target="_blank" class="social-icon"><i class="fab fa-tiktok"></i></a>
            <a href="https://t.me/ReemStore4" target="_blank" class="social-icon"><i class="fab fa-telegram"></i></a>
            <a href="https://wa.me/963968493135" target="_blank" class="social-icon"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p class="text-xs text-slate-400">Â© 2026 Reem Store</p>
    </footer>

    <!-- Ù…ÙˆØ¯Ø§Ù„ admin -->
    <div id="password-modal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-[2000]">
        <div class="bg-slate-800 p-6 rounded-2xl w-80">
            <h2 class="text-xl font-bold mb-4 text-cyan-400">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
            <input type="password" id="admin-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" class="w-full p-2 mb-3 rounded bg-slate-900">
            <button onclick="checkPass()" class="w-full bg-cyan-600 py-2 rounded">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <!-- admin panel Ù…Ø®ÙÙŠ -->
    <div id="admin-panel" class="hidden fixed inset-0 bg-black/95 z-[3000] p-4 overflow-y-auto">
        <button onclick="closeAdmin()" class="absolute top-4 left-4 text-red-500">âœ•</button>
        <h2 class="text-xl font-bold mb-4">ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        
        <div class="mb-4">
            <input type="text" id="new-cat-name" placeholder="Ø§Ø³Ù… Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯" class="w-full p-2 mb-2 rounded bg-slate-800">
            <button onclick="addCategory()" class="w-full bg-green-600 py-2 rounded">Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù…</button>
        </div>
        
        <div>
            <input type="text" id="new-prod-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" class="w-full p-2 mb-2 rounded bg-slate-800">
            <input type="number" id="new-prod-price" placeholder="Ø§Ù„Ø³Ø¹Ø±" class="w-full p-2 mb-2 rounded bg-slate-800">
            <input type="text" id="new-prod-img" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" class="w-full p-2 mb-2 rounded bg-slate-800">
            <select id="new-prod-cat" class="w-full p-2 mb-2 rounded bg-slate-800"></select>
            <button onclick="addProduct()" class="w-full bg-cyan-600 py-2 rounded">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
        </div>
    </div>

    <!-- ØªÙˆØ³Øª -->
    <div class="fixed bottom-20 left-2 z-[4000]" id="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³ÙŠØ·Ø©
        let storeData = JSON.parse(localStorage.getItem('store')) || [
            { id: 'cat1', name: 'ğŸ® Ø£Ù„Ø¹Ø§Ø¨', products: [
                { id: 1, name: '60 UC PUBG', price: 5, img: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400' },
                { id: 2, name: '100 FF', price: 4, img: 'https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=400' }
            ]},
            { id: 'cat2', name: 'ğŸ“± ØªØ·Ø¨ÙŠÙ‚Ø§Øª', products: [
                { id: 3, name: 'Ù†ØªÙÙ„ÙƒØ³ Ø´Ù‡Ø±', price: 15, img: 'https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?w=400' }
            ]}
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentFilter = 'all';
        let selectedFile = null;
        const BOT_TOKEN = '8222212068:AAH935nM61iSGrGGcXo_H2I6mB13Ws2QE74';
        const CHAT_ID = '7741275208';

        // Ù†Ø³Ø® ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©
        function copyCode() {
            navigator.clipboard.writeText('17ac4a94cb1ed493e47a8526892294dd');
            showToast('âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®');
        }

        // Ø±ÙØ¹ ØµÙˆØ±Ø©
        function handleFile(e) {
            selectedFile = e.target.files[0];
            if (selectedFile) {
                document.getElementById('file-name').innerHTML = `ğŸ“¸ ${selectedFile.name}`;
            }
        }

        // Ø§Ù„Ø³Ù„Ø©
        function updateCart() {
            document.getElementById('cart-count').innerText = cart.length;
            let items = document.getElementById('cart-items');
            items.innerHTML = cart.map((item, i) => `
                <div class="flex justify-between items-center bg-slate-800 p-2 rounded text-sm">
                    <span>${item.name}</span>
                    <span>$${item.price} <button onclick="removeFromCart(${i})" class="text-red-500 mr-2">âœ•</button></span>
                </div>
            `).join('');
            
            let total = cart.reduce((s,i) => s + i.price, 0);
            document.getElementById('cart-total').innerText = total;
            document.getElementById('payment-amount').innerText = '$' + total;
        }

        function addToCart(name, price) {
            cart.push({name, price});
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
            showToast('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
        }

        function removeFromCart(i) {
            cart.splice(i,1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCart();
        }

        function toggleCart() {
            document.getElementById('cart-sidebar').classList.toggle('open');
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
        async function sendOrder() {
            let name = document.getElementById('cust-name').value;
            let gameId = document.getElementById('cust-id').value;
            let transId = document.getElementById('transaction-id').value;

            if (!name || !gameId || cart.length === 0 || !transId || !selectedFile) {
                showToast('âš ï¸ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                return;
            }

            let total = cart.reduce((s,i) => s + i.price, 0);
            let products = cart.map(i => `- ${i.name} ($${i.price})`).join('\n');

            let reader = new FileReader();
            reader.readAsDataURL(selectedFile);
            reader.onload = async function() {
                let base64 = reader.result.split(',')[1];
                
                let msg = `ğŸ›ï¸ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ ${name}
ğŸ® ${gameId}
ğŸ”¢ ${transId}
ğŸ“¦
${products}
ğŸ’° $${total}`;

                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method:'POST', headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({chat_id:CHAT_ID, text:msg})
                });

                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method:'POST', headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({chat_id:CHAT_ID, photo:base64})
                });

                showToast('âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                cart = [];
                localStorage.removeItem('cart');
                updateCart();
                toggleCart();
            };
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function renderStore() {
            let content = document.getElementById('store-content');
            let filtered = currentFilter === 'all' ? storeData : storeData.filter(c => c.id === currentFilter);
            
            content.innerHTML = filtered.map(cat => cat.products.map(p => `
                <div class="product-card">
                    <img src="${p.img}">
                    <h3>${p.name}</h3>
                    <div class="price">$${p.price}</div>
                    <button onclick="addToCart('${p.name}',${p.price})" class="w-full bg-gradient-to-l from-cyan-500 to-pink-500 text-black py-1 rounded text-xs font-bold">
                        ğŸ›’ Ø¥Ø¶Ø§ÙØ©
                    </button>
                </div>
            `).join('')).join('');
        }

        // Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function renderTabs() {
            let tabs = document.getElementById('category-tabs');
            tabs.innerHTML = '<button class="category-tab active" onclick="filterByCategory(\'all\')">Ø§Ù„ÙƒÙ„</button>';
            storeData.forEach(c => {
                tabs.innerHTML += `<button class="category-tab" onclick="filterByCategory('${c.id}')">${c.name}</button>`;
            });
        }

        function filterByCategory(id) {
            currentFilter = id;
            document.querySelectorAll('.category-tab').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderStore();
        }

        // Admin
        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        
        function checkPass() {
            if (document.getElementById('admin-pass').value === '1234') {
                closeModal('password-modal');
                document.getElementById('admin-panel').classList.remove('hidden');
                updateCatSelect();
            } else showToast('âŒ ØºÙ„Ø·');
        }

        function closeAdmin() { document.getElementById('admin-panel').classList.add('hidden'); }

        function addCategory() {
            let name = document.getElementById('new-cat-name').value;
            if (!name) return;
            storeData.push({id:'cat'+Date.now(), name:name, products:[]});
            localStorage.setItem('store', JSON.stringify(storeData));
            renderTabs();
            updateCatSelect();
        }

        function addProduct() {
            let name = document.getElementById('new-prod-name').value;
            let price = parseFloat(document.getElementById('new-prod-price').value);
            let img = document.getElementById('new-prod-img').value;
            let catId = document.getElementById('new-prod-cat').value;
            
            let cat = storeData.find(c => c.id === catId);
            cat.products.push({id:Date.now(), name, price, img});
            localStorage.setItem('store', JSON.stringify(storeData));
            renderStore();
        }

        function updateCatSelect() {
            let select = document.getElementById('new-prod-cat');
            select.innerHTML = storeData.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        }

        function showToast(msg) {
            let toast = document.createElement('div');
            toast.className = 'bg-cyan-600 text-black p-2 rounded text-sm mb-1';
            toast.innerText = msg;
            document.getElementById('toast-container').appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // ØªÙ‡ÙŠØ¦Ø©
        renderTabs();
        renderStore();
        updateCart();
        updateCatSelect();
    </script>
</body>
</html>
