<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - REEM STORE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #ff0080, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #ff0080;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff0080;
        }
        
        .orders-table {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: rgba(255, 0, 128, 0.2);
            padding: 15px;
            font-size: 1.1rem;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        .status-badge {
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .status-new { background: #ff0080; color: white; }
        .status-paid { background: #4CAF50; color: white; }
        .status-shipped { background: #2196F3; color: white; }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 2px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            transform: scale(1.1);
        }
        
        .btn-paid { background: #4CAF50; color: white; }
        .btn-shipped { background: #2196F3; color: white; }
        .btn-delete { background: #f44336; color: white; }
        
        .clear-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‘‘ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… REEM STORE</h1>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
        </div>
        
        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="stats-grid" id="stats"></div>
        
        <!-- Ø²Ø± Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„ -->
        <button class="clear-btn" onclick="clearAllOrders()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
        
        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
        <div class="orders-table">
            <table>
                <thead>
                    <tr>
                        <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                        <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                        <th>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th>
                        <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                        <th>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                        <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                    </tr>
                </thead>
                <tbody id="ordersList"></tbody>
            </table>
        </div>
    </div>
    
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙˆØª ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
        const BOT_TOKEN = '8222212068:AAH935nM61iSGrGGcXo_H2I6mB13Ws2QE74';
        const CHAT_ID = '7741275208';
        
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function displayStats() {
            const stats = document.getElementById('stats');
            const totalOrders = orders.length;
            const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0);
            const pendingOrders = orders.filter(o => o.status === 'Ø¬Ø¯ÙŠØ¯').length;
            const completedOrders = orders.filter(o => o.status === 'Ù…ÙƒØªÙ…Ù„').length;
            
            stats.innerHTML = `
                <div class="stat-card">
                    <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
                    <div class="stat-value">${totalOrders}</div>
                </div>
                <div class="stat-card">
                    <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</h3>
                    <div class="stat-value">$${totalRevenue}</div>
                </div>
                <div class="stat-card">
                    <h3>Ø·Ù„Ø¨Ø§Øª pending</h3>
                    <div class="stat-value">${pendingOrders}</div>
                </div>
                <div class="stat-card">
                    <h3>Ø·Ù„Ø¨Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</h3>
                    <div class="stat-value">${completedOrders}</div>
                </div>
            `;
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        function displayOrders() {
            const ordersList = document.getElementById('ordersList');
            
            if (orders.length === 0) {
                ordersList.innerHTML = '<tr><td colspan="8" style="text-align: center; padding: 50px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯</td></tr>';
                return;
            }
            
            ordersList.innerHTML = orders.map(order => {
                const productsList = order.items.map(item => `â€¢ ${item.name}`).join('<br>');
                const statusClass = order.status === 'Ø¬Ø¯ÙŠØ¯' ? 'status-new' : 
                                   order.status === 'Ù…Ø¯ÙÙˆØ¹' ? 'status-paid' : 'status-shipped';
                
                return `
                    <tr>
                        <td><strong>${order.id}</strong></td>
                        <td>
                            ${order.name}<br>
                            <small style="color: #ff8c00;">${order.phone}</small><br>
                            <small>ğŸ® ${order.playerId}</small>
                        </td>
                        <td>${productsList}</td>
                        <td><strong style="color: #ff0080;">$${order.total}</strong></td>
                        <td>${order.paymentMethod}</td>
                        <td><span class="status-badge ${statusClass}">${order.status}</span></td>
                        <td>${order.date}</td>
                        <td>
                            <button class="action-btn btn-paid" onclick="updateStatus('${order.id}', 'Ù…Ø¯ÙÙˆØ¹')">âœ… Ù…Ø¯ÙÙˆØ¹</button>
                            <button class="action-btn btn-shipped" onclick="updateStatus('${order.id}', 'Ù…Ø´Ø­ÙˆÙ†')">ğŸ“¦ Ù…Ø´Ø­ÙˆÙ†</button>
                            <button class="action-btn btn-delete" onclick="deleteOrder('${order.id}')">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
        function updateStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                localStorage.setItem('orders', JSON.stringify(orders));
                displayOrders();
                displayStats();
                
                // Ø¥Ø±Ø³Ø§Ù„ ØªØ­Ø¯ÙŠØ« Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
                sendTelegramUpdate(order);
            }
        }
        
        // Ø­Ø°Ù Ø·Ù„Ø¨
        function deleteOrder(orderId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ØŸ')) {
                orders = orders.filter(o => o.id !== orderId);
                localStorage.setItem('orders', JSON.stringify(orders));
                displayOrders();
                displayStats();
            }
        }
        
        // Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        function clearAllOrders() {
            if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ù‡Ø°Ø§ Ø³ÙŠÙ…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!')) {
                localStorage.removeItem('orders');
                orders = [];
                displayOrders();
                displayStats();
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ ØªØ­Ø¯ÙŠØ« Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        async function sendTelegramUpdate(order) {
            const message = `
ğŸ”„ **ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨**
ğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${order.id}
ğŸ“Œ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: ${order.status}
ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${order.name}
ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº: $${order.total}
            `;
            
            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            } catch (error) {
                console.error('âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«:', error);
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        displayStats();
        displayOrders();
    </script>
</body>
</html>
